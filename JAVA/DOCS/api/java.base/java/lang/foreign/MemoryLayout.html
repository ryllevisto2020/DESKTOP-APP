<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (21) -->
<title>MemoryLayout (Java SE 21 &amp; JDK 21)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: module: java.base, package: java.lang.foreign, interface: MemoryLayout">
<meta name="generator" content="javadoc/ClassWriterImpl">
<meta name="keywords" content="java.lang.foreign.MemoryLayout interface">
<meta name="keywords" content="byteSize()">
<meta name="keywords" content="name()">
<meta name="keywords" content="withName()">
<meta name="keywords" content="withoutName()">
<meta name="keywords" content="byteAlignment()">
<meta name="keywords" content="withByteAlignment()">
<meta name="keywords" content="byteOffset()">
<meta name="keywords" content="byteOffsetHandle()">
<meta name="keywords" content="varHandle()">
<meta name="keywords" content="sliceHandle()">
<meta name="keywords" content="select()">
<meta name="keywords" content="equals()">
<meta name="keywords" content="hashCode()">
<meta name="keywords" content="toString()">
<meta name="keywords" content="paddingLayout()">
<meta name="keywords" content="sequenceLayout()">
<meta name="keywords" content="structLayout()">
<meta name="keywords" content="unionLayout()">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.min.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<div class="about-language"><div style="margin-top: 14px;"><strong>Java SE 21 &amp; JDK 21</strong> </div></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="../../../module-summary.html">Module</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/MemoryLayout.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../preview-list.html">Preview</a></li>
<li><a href="../../../../new-list.html">New</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li><a href="#nested-class-summary">Nested</a></li>
<li>Field</li>
<li>Constr</li>
<li><a href="#method-summary">Method</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li>Field</li>
<li>Constr</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li><a href="#nested-class-summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="module-label-in-type">Module</span>&nbsp;<a href="../../../module-summary.html">java.base</a></div>
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">java.lang.foreign</a></div>
<h1 title="Interface MemoryLayout" class="title">Interface MemoryLayout</h1>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Known Subinterfaces:</dt>
<dd><code><a href="AddressLayout.html" title="interface in java.lang.foreign">AddressLayout</a><sup><a href="AddressLayout.html#preview-java.lang.foreign.AddressLayout">PREVIEW</a></sup></code>, <code><a href="GroupLayout.html" title="interface in java.lang.foreign">GroupLayout</a><sup><a href="GroupLayout.html#preview-java.lang.foreign.GroupLayout">PREVIEW</a></sup></code>, <code><a href="PaddingLayout.html" title="interface in java.lang.foreign">PaddingLayout</a><sup><a href="PaddingLayout.html#preview-java.lang.foreign.PaddingLayout">PREVIEW</a></sup></code>, <code><a href="SequenceLayout.html" title="interface in java.lang.foreign">SequenceLayout</a><sup><a href="SequenceLayout.html#preview-java.lang.foreign.SequenceLayout">PREVIEW</a></sup></code>, <code><a href="StructLayout.html" title="interface in java.lang.foreign">StructLayout</a><sup><a href="StructLayout.html#preview-java.lang.foreign.StructLayout">PREVIEW</a></sup></code>, <code><a href="UnionLayout.html" title="interface in java.lang.foreign">UnionLayout</a><sup><a href="UnionLayout.html#preview-java.lang.foreign.UnionLayout">PREVIEW</a></sup></code>, <code><a href="ValueLayout.html" title="interface in java.lang.foreign">ValueLayout</a><sup><a href="ValueLayout.html#preview-java.lang.foreign.ValueLayout">PREVIEW</a></sup></code>, <code><a href="ValueLayout.OfBoolean.html" title="interface in java.lang.foreign">ValueLayout.OfBoolean</a><sup><a href="ValueLayout.OfBoolean.html#preview-java.lang.foreign.ValueLayout.OfBoolean">PREVIEW</a></sup></code>, <code><a href="ValueLayout.OfByte.html" title="interface in java.lang.foreign">ValueLayout.OfByte</a><sup><a href="ValueLayout.OfByte.html#preview-java.lang.foreign.ValueLayout.OfByte">PREVIEW</a></sup></code>, <code><a href="ValueLayout.OfChar.html" title="interface in java.lang.foreign">ValueLayout.OfChar</a><sup><a href="ValueLayout.OfChar.html#preview-java.lang.foreign.ValueLayout.OfChar">PREVIEW</a></sup></code>, <code><a href="ValueLayout.OfDouble.html" title="interface in java.lang.foreign">ValueLayout.OfDouble</a><sup><a href="ValueLayout.OfDouble.html#preview-java.lang.foreign.ValueLayout.OfDouble">PREVIEW</a></sup></code>, <code><a href="ValueLayout.OfFloat.html" title="interface in java.lang.foreign">ValueLayout.OfFloat</a><sup><a href="ValueLayout.OfFloat.html#preview-java.lang.foreign.ValueLayout.OfFloat">PREVIEW</a></sup></code>, <code><a href="ValueLayout.OfInt.html" title="interface in java.lang.foreign">ValueLayout.OfInt</a><sup><a href="ValueLayout.OfInt.html#preview-java.lang.foreign.ValueLayout.OfInt">PREVIEW</a></sup></code>, <code><a href="ValueLayout.OfLong.html" title="interface in java.lang.foreign">ValueLayout.OfLong</a><sup><a href="ValueLayout.OfLong.html#preview-java.lang.foreign.ValueLayout.OfLong">PREVIEW</a></sup></code>, <code><a href="ValueLayout.OfShort.html" title="interface in java.lang.foreign">ValueLayout.OfShort</a><sup><a href="ValueLayout.OfShort.html#preview-java.lang.foreign.ValueLayout.OfShort">PREVIEW</a></sup></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public sealed interface </span><span class="element-name type-name-label">MemoryLayout</span>
<span class="permits">permits <a href="SequenceLayout.html" title="interface in java.lang.foreign">SequenceLayout</a><sup><a href="SequenceLayout.html#preview-java.lang.foreign.SequenceLayout">PREVIEW</a></sup>, <a href="GroupLayout.html" title="interface in java.lang.foreign">GroupLayout</a><sup><a href="GroupLayout.html#preview-java.lang.foreign.GroupLayout">PREVIEW</a></sup>, <a href="PaddingLayout.html" title="interface in java.lang.foreign">PaddingLayout</a><sup><a href="PaddingLayout.html#preview-java.lang.foreign.PaddingLayout">PREVIEW</a></sup>, <a href="ValueLayout.html" title="interface in java.lang.foreign">ValueLayout</a><sup><a href="ValueLayout.html#preview-java.lang.foreign.ValueLayout">PREVIEW</a></sup></span></div>
<div class="preview-block" id="preview-java.lang.foreign.MemoryLayout"><span class="preview-label"><code>MemoryLayout</code> is a preview API of the Java platform.</span>
<div class="preview-comment">Programs can only use <code>MemoryLayout</code> when preview features are enabled.</div>
<div class="preview-comment">Preview features may be removed in a future release, or upgraded to permanent features of the Java platform.</div>
</div>
<div class="block">A memory layout describes the contents of a memory segment.
 <p>
 There are two leaves in the layout hierarchy, <a href="ValueLayout.html" title="interface in java.lang.foreign">value layouts</a><sup><a href="ValueLayout.html#preview-java.lang.foreign.ValueLayout">PREVIEW</a></sup>, which are used to represent values of given size and kind (see
 and <a href="PaddingLayout.html" title="interface in java.lang.foreign">padding layouts</a><sup><a href="PaddingLayout.html#preview-java.lang.foreign.PaddingLayout">PREVIEW</a></sup> which are used, as the name suggests, to represent a portion of a memory
 segment whose contents should be ignored, and which are primarily present for alignment reasons.
 Some common value layout constants, such as <a href="ValueLayout.html#JAVA_INT"><code>ValueLayout.JAVA_INT</code></a><sup><a href="ValueLayout.html#preview-java.lang.foreign.ValueLayout">PREVIEW</a></sup> and <a href="ValueLayout.html#JAVA_FLOAT_UNALIGNED"><code>ValueLayout.JAVA_FLOAT_UNALIGNED</code></a><sup><a href="ValueLayout.html#preview-java.lang.foreign.ValueLayout">PREVIEW</a></sup>
 are defined in the <a href="ValueLayout.html" title="interface in java.lang.foreign"><code>ValueLayout</code></a><sup><a href="ValueLayout.html#preview-java.lang.foreign.ValueLayout">PREVIEW</a></sup> class. A special kind of value layout, namely an <a href="AddressLayout.html" title="interface in java.lang.foreign">address layout</a><sup><a href="AddressLayout.html#preview-java.lang.foreign.AddressLayout">PREVIEW</a></sup>,
 is used to model values that denote the address of a region of memory.
 <p>
 More complex layouts can be derived from simpler ones: a <a href="SequenceLayout.html" title="interface in java.lang.foreign">sequence layout</a><sup><a href="SequenceLayout.html#preview-java.lang.foreign.SequenceLayout">PREVIEW</a></sup> denotes a
 homogeneous repetition of zero or more occurrences of an element layout; a <a href="GroupLayout.html" title="interface in java.lang.foreign">group layout</a><sup><a href="GroupLayout.html#preview-java.lang.foreign.GroupLayout">PREVIEW</a></sup>
 denotes a heterogeneous aggregation of zero or more member layouts. Group layouts come in two
 flavors: <a href="StructLayout.html" title="interface in java.lang.foreign">struct layouts</a><sup><a href="StructLayout.html#preview-java.lang.foreign.StructLayout">PREVIEW</a></sup>, where member layouts are laid out one after the other, and
 <a href="UnionLayout.html" title="interface in java.lang.foreign">union layouts</a><sup><a href="UnionLayout.html#preview-java.lang.foreign.UnionLayout">PREVIEW</a></sup> where member layouts are laid out at the same starting offset.
 <p>
 Layouts can be optionally associated with a <em>name</em>. A layout name can be referred to when
 constructing <a href="MemoryLayout.html#layout-paths"><em>layout paths</em></a>.
 <p>
 Consider the following struct declaration in C:

 
<div class="snippet-container"><button class="copy snippet-copy" aria-label="Copy snippet" onclick="copySnippet(this)"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy snippet"></button>
<pre class="snippet"><code class="language-c">typedef struct {
    char kind;
    int value;
} TaggedValues[5];
</code></pre>
</div>


 The above declaration can be modelled using a layout object, as follows:

 
<div class="snippet-container"><button class="copy snippet-copy" aria-label="Copy snippet" onclick="copySnippet(this)"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy snippet"></button>
<pre class="snippet"><code class="language-java">SequenceLayout taggedValues = MemoryLayout.sequenceLayout(5,
    MemoryLayout.structLayout(
        ValueLayout.JAVA_BYTE.withName("kind"),
        MemoryLayout.paddingLayout(3),
        ValueLayout.JAVA_INT.withName("value")
    )
).withName("TaggedValues");
</code></pre>
</div>


 <h2 id="layout-align">Characteristics of memory layouts</h2>

 All layouts have a <em>size</em> (expressed in bytes), which is defined as follows:
 <ul>
     <li>The size of a value layout is determined by the <a href="ValueLayout.html#carrier()">ValueLayout.carrier()</a><sup><a href="ValueLayout.html#preview-java.lang.foreign.ValueLayout">PREVIEW</a></sup>
     associated with the value layout. That is, the constant <a href="ValueLayout.html#JAVA_INT"><code>ValueLayout.JAVA_INT</code></a><sup><a href="ValueLayout.html#preview-java.lang.foreign.ValueLayout">PREVIEW</a></sup> has carrier <code>int</code>, and
     size of 4 bytes;</li>
     <li>The size of an address layout is platform-dependent. That is, the constant <a href="ValueLayout.html#ADDRESS"><code>ValueLayout.ADDRESS</code></a><sup><a href="ValueLayout.html#preview-java.lang.foreign.ValueLayout">PREVIEW</a></sup>
     has size of 8 bytes on a 64-bit platform;</li>
     <li>The size of a padding layout is always provided explicitly, on <a href="#paddingLayout(long)">construction</a>;</li>
     <li>The size of a sequence layout whose element layout is <em>E</em> and element count is <em>L</em>,
     is the size of <em>E</em>, multiplied by <em>L</em>;</li>
     <li>The size of a struct layout with member layouts <em>M1</em>, <em>M2</em>, ... <em>Mn</em> whose sizes are
     <em>S1</em>, <em>S2</em>, ... <em>Sn</em>, respectively, is <em>S1 + S2 + ... + Sn</em>;</li>
     <li>The size of a union layout <em>U</em> with member layouts <em>M1</em>, <em>M2</em>, ... <em>Mn</em> whose sizes are
     <em>S1</em>, <em>S2</em>, ... <em>Sn</em>, respectively, is <em>max(S1, S2, ... Sn).</em></li>
 </ul>
 <p>
 Furthermore, all layouts have a <em>natural alignment</em> (expressed in bytes) which is defined as follows:
 <ul>
     <li>The natural alignment of a padding layout is 1;</li>
     <li>The natural alignment of a value layout whose size is <em>N</em> is <em>N</em>;</li>
     <li>The natural alignment of a sequence layout whose element layout is <em>E</em> is the alignment of <em>E</em>;</li>
     <li>The natural alignment of a group layout with member layouts <em>M1</em>, <em>M2</em>, ... <em>Mn</em> whose
     alignments are <em>A1</em>, <em>A2</em>, ... <em>An</em>, respectively, is <em>max(A1, A2 ... An)</em>.</li>
 </ul>
 A layout's alignment can be overridden if needed (see <a href="#withByteAlignment(long)"><code>withByteAlignment(long)</code></a>), which can be useful to describe
 layouts with weaker or stronger alignment constraints.

 <h2 id="layout-paths">Layout paths</h2>

 A <em>layout path</em> is used to unambiguously select a layout that is nested in some other layout.
 Layout paths are typically expressed as a sequence of one or more <a href="MemoryLayout.PathElement.html" title="interface in java.lang.foreign">path elements</a><sup><a href="MemoryLayout.PathElement.html#preview-java.lang.foreign.MemoryLayout.PathElement">PREVIEW</a></sup>.
 (A more formal definition of layout paths is provided <a href="#well-formedness">below</a>).
 <p>
 Layout paths can be used to:
 <ul>
     <li>obtain <a href="#byteOffset(java.lang.foreign.MemoryLayout.PathElement...)">offsets</a> of arbitrarily nested layouts;</li>
     <li>obtain a <a href="#varHandle(java.lang.foreign.MemoryLayout.PathElement...)">var handle</a> that can be used to access the value corresponding
     to the selected layout;</li>
     <li><a href="#select(java.lang.foreign.MemoryLayout.PathElement...)">select</a> an arbitrarily nested layout.</li>
 </ul>
 <p>
 For instance, given the <code>taggedValues</code> sequence layout constructed above, we can obtain the offset,
 in bytes, of the member layout named <code>value</code> in the <em>first</em> sequence element, as follows:
 
<div class="snippet-container"><button class="copy snippet-copy" aria-label="Copy snippet" onclick="copySnippet(this)"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy snippet"></button>
<pre class="snippet"><code class="language-java">long valueOffset = taggedValues.byteOffset(PathElement.sequenceElement(0),
                                          PathElement.groupElement("value")); // yields 4
</code></pre>
</div>


 Similarly, we can select the member layout named <code>value</code>, as follows:
 
<div class="snippet-container"><button class="copy snippet-copy" aria-label="Copy snippet" onclick="copySnippet(this)"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy snippet"></button>
<pre class="snippet"><code class="language-java">MemoryLayout value = taggedValues.select(PathElement.sequenceElement(),
                                         PathElement.groupElement("value"));
</code></pre>
</div>


 <h3 id="open-path-elements">Open path elements</h3>

 Some layout path elements, said <em>open path elements</em>, can select multiple layouts at once. For instance,
 the open path elements <a href="MemoryLayout.PathElement.html#sequenceElement()"><code>MemoryLayout.PathElement.sequenceElement()</code></a><sup><a href="MemoryLayout.PathElement.html#preview-java.lang.foreign.MemoryLayout.PathElement">PREVIEW</a></sup>, <a href="MemoryLayout.PathElement.html#sequenceElement(long,long)"><code>MemoryLayout.PathElement.sequenceElement(long, long)</code></a><sup><a href="MemoryLayout.PathElement.html#preview-java.lang.foreign.MemoryLayout.PathElement">PREVIEW</a></sup> select
 an unspecified element in a sequence layout. A var handle derived from a layout path containing one or more
 open path element features additional coordinates of type <code>long</code>, which can be used by clients to <em>bind</em>
 the open elements in the path:

 
<div class="snippet-container"><button class="copy snippet-copy" aria-label="Copy snippet" onclick="copySnippet(this)"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy snippet"></button>
<pre class="snippet"><code class="language-java">VarHandle valueHandle = taggedValues.varHandle(PathElement.sequenceElement(),
                                               PathElement.groupElement("value"));
MemorySegment valuesSegment = ...
int val = (int) valueHandle.get(valuesSegment, 2); // reads the "value" field of the third struct in the array
</code></pre>
</div>


 <p>
 Open path elements also affects the creation of
 <a href="#byteOffsetHandle(java.lang.foreign.MemoryLayout.PathElement...)">offset-computing method handles</a>. Each open path element becomes
 an additional <code>long</code> parameter in the obtained method handle. This parameter can be used to specify the index
 of the sequence element whose offset is to be computed:

 
<div class="snippet-container"><button class="copy snippet-copy" aria-label="Copy snippet" onclick="copySnippet(this)"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy snippet"></button>
<pre class="snippet"><code class="language-java">MethodHandle offsetHandle = taggedValues.byteOffsetHandle(PathElement.sequenceElement(),
                                                          PathElement.groupElement("kind"));
long offset1 = (long) offsetHandle.invokeExact(1L); // 8
long offset2 = (long) offsetHandle.invokeExact(2L); // 16
</code></pre>
</div>


 <h3 id="deref-path-elements">Dereference path elements</h3>

 A special kind of path element, called <em>dereference path element</em>, allows var handles obtained from
 memory layouts to follow pointers. Consider the following layout:

 
<div class="snippet-container"><button class="copy snippet-copy" aria-label="Copy snippet" onclick="copySnippet(this)"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy snippet"></button>
<pre class="snippet"><code class="language-java">StructLayout RECTANGLE = MemoryLayout.structLayout(
        ValueLayout.ADDRESS.withTargetLayout(
                MemoryLayout.sequenceLayout(4,
                        MemoryLayout.structLayout(
                                ValueLayout.JAVA_INT.withName("x"),
                                ValueLayout.JAVA_INT.withName("y")
                        ).withName("point")
                 )
         ).withName("points")
);
</code></pre>
</div>


 This layout is a struct layout which describe a rectangle. It contains a single field, namely <code>points</code>,
 an address layout whose <a href="AddressLayout.html#targetLayout()">target layout</a><sup><a href="AddressLayout.html#preview-java.lang.foreign.AddressLayout">PREVIEW</a></sup> is a sequence layout of four
 struct layouts. Each struct layout describes a two-dimensional point, and is defined as a pair or
 <a href="ValueLayout.html#JAVA_INT"><code>ValueLayout.JAVA_INT</code></a><sup><a href="ValueLayout.html#preview-java.lang.foreign.ValueLayout">PREVIEW</a></sup> coordinates, with names <code>x</code> and <code>y</code>, respectively.
 <p>
 With dereference path elements, we can obtain a var handle which accesses the <code>y</code> coordinate of one of the
 point in the rectangle, as follows:

 
<div class="snippet-container"><button class="copy snippet-copy" aria-label="Copy snippet" onclick="copySnippet(this)"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy snippet"></button>
<pre class="snippet"><code class="language-java">VarHandle rectPointYs = RECTANGLE.varHandle(
        PathElement.groupElement("points"),
        PathElement.dereferenceElement(),
        PathElement.sequenceElement(),
        PathElement.groupElement("y")
);

MemorySegment rect = ...
int rect_y_4 = (int) rectPointYs.get(rect, 2); // rect.points[2]-&gt;y
</code></pre>
</div>


 <h3 id="well-formedness">Layout path well-formedness</h3>

 A layout path is applied to a layout <code>C_0</code>, also called the <em>initial layout</em>. Each path element in a
 layout path can be thought of as a function which updates the current layout <code>C_i-1</code> to some other layout
 <code>C_i</code>. That is, for each path element <code>E1, E2, ... En</code>, in a layout path <code>P</code>, we compute
 <code>C_i = f_i(C_i-1)</code>, where <code>f_i</code> is the selection function associated with the path element under consideration,
 denoted as <code>E_i</code>. The final layout <code>C_i</code> is also called the <em>selected layout</em>.
 <p>
 A layout path <code>P</code> is considered well-formed for an initial layout <code>C_0</code> if all its path elements
 <code>E1, E2, ... En</code> are well-formed for their corresponding input layouts <code>C_0, C_1, ... C_n-1</code>.
 A path element <code>E</code> is considered well-formed for a layout <code>L</code> if any of the following is true:
 <ul>
 <li><code>L</code> is a sequence layout and <code>E</code> is a sequence path element (one of <a href="MemoryLayout.PathElement.html#sequenceElement(long)"><code>MemoryLayout.PathElement.sequenceElement(long)</code></a><sup><a href="MemoryLayout.PathElement.html#preview-java.lang.foreign.MemoryLayout.PathElement">PREVIEW</a></sup>,
 <a href="MemoryLayout.PathElement.html#sequenceElement(long,long)"><code>MemoryLayout.PathElement.sequenceElement(long, long)</code></a><sup><a href="MemoryLayout.PathElement.html#preview-java.lang.foreign.MemoryLayout.PathElement">PREVIEW</a></sup> or <a href="MemoryLayout.PathElement.html#sequenceElement()"><code>MemoryLayout.PathElement.sequenceElement()</code></a><sup><a href="MemoryLayout.PathElement.html#preview-java.lang.foreign.MemoryLayout.PathElement">PREVIEW</a></sup>). Moreover, if <code>E</code>
 contains one or more sequence indices, such indices have to be compatible with the sequence layout's element count;</li>
 <li><code>L</code> is a group layout and <code>E</code> is a group path element (one of <a href="MemoryLayout.PathElement.html#groupElement(java.lang.String)"><code>MemoryLayout.PathElement.groupElement(String)</code></a><sup><a href="MemoryLayout.PathElement.html#preview-java.lang.foreign.MemoryLayout.PathElement">PREVIEW</a></sup>
 or <a href="MemoryLayout.PathElement.html#groupElement(long)"><code>MemoryLayout.PathElement.groupElement(long)</code></a><sup><a href="MemoryLayout.PathElement.html#preview-java.lang.foreign.MemoryLayout.PathElement">PREVIEW</a></sup>). Moreover, the group path element must refer to a valid member layout in
 <code>L</code>, either by name, or index;</li>
 <li><code>L</code> is an address layout and <code>E</code> is a <a href="MemoryLayout.PathElement.html#dereferenceElement()">dereference path element</a><sup><a href="MemoryLayout.PathElement.html#preview-java.lang.foreign.MemoryLayout.PathElement">PREVIEW</a></sup>.
 Moreover, <code>L</code> must define some <a href="AddressLayout.html#targetLayout()">target layout</a><sup><a href="AddressLayout.html#preview-java.lang.foreign.AddressLayout">PREVIEW</a></sup>.</li>
 </ul>
 Any attempt to provide a layout path <code>P</code> that is not well-formed for an initial layout <code>C_0</code> will result
 in an <a href="../IllegalArgumentException.html" title="class in java.lang"><code>IllegalArgumentException</code></a>.</div>
<dl class="notes">
<dt>Implementation Requirements:</dt>
<dd>Implementations of this interface are immutable, thread-safe and <a href="../../../../java.base/java/lang/doc-files/ValueBased.html">value-based</a>.</dd>
<dt>Sealed Class Hierarchy Graph:</dt><dd><a class="sealed-graph" href="MemoryLayout-sealed-graph.svg"><img style="vertical-align:top" alt="Sealed class hierarchy graph for MemoryLayout" src="MemoryLayout-sealed-graph.svg" height="100"><span><img style="border: solid lightgray 1px; vertical-align:top" alt="Sealed class hierarchy graph for MemoryLayout" src="MemoryLayout-sealed-graph.svg"></span></a></dd>
<dt>Since:</dt>
<dd>19</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li>
<section class="nested-class-summary" id="nested-class-summary">
<h2>Nested Class Summary</h2>
<div class="caption"><span>Nested Classes</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Interface</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static interface&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="MemoryLayout.PathElement.html" class="type-name-link" title="interface in java.lang.foreign">MemoryLayout.PathElement</a><sup><a href="MemoryLayout.PathElement.html#preview-java.lang.foreign.MemoryLayout.PathElement">PREVIEW</a></sup></code></div>
<div class="col-last even-row-color">
<div class="block"><span class="preview-label">Preview.</span></div>
<div class="block">An element in a <a href="MemoryLayout.html#layout-paths"><em>layout path</em></a>.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab1" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab1', 3)" class="table-tab">Static Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab3" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab3', 3)" class="table-tab">Abstract Methods</button><button id="method-summary-table-tab5" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab5', 3)" class="table-tab">Default Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>long</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#byteAlignment()" class="member-name-link">byteAlignment</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Returns the alignment constraint associated with this layout, expressed in bytes.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default long</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#byteOffset(java.lang.foreign.MemoryLayout.PathElement...)" class="member-name-link">byteOffset</a><wbr>(<a href="MemoryLayout.PathElement.html" title="interface in java.lang.foreign">MemoryLayout.PathElement</a><sup><a href="MemoryLayout.PathElement.html#preview-java.lang.foreign.MemoryLayout.PathElement">PREVIEW</a></sup>...&nbsp;elements)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Computes the offset, in bytes, of the layout selected by the given layout path, where the initial layout in the
 path is this layout.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="../invoke/MethodHandle.html" title="class in java.lang.invoke">MethodHandle</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#byteOffsetHandle(java.lang.foreign.MemoryLayout.PathElement...)" class="member-name-link">byteOffsetHandle</a><wbr>(<a href="MemoryLayout.PathElement.html" title="interface in java.lang.foreign">MemoryLayout.PathElement</a><sup><a href="MemoryLayout.PathElement.html#preview-java.lang.foreign.MemoryLayout.PathElement">PREVIEW</a></sup>...&nbsp;elements)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Creates a method handle that computes the offset, in bytes, of the layout selected
 by the given layout path, where the initial layout in the path is this layout.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>long</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#byteSize()" class="member-name-link">byteSize</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Returns the layout size, in bytes.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#equals(java.lang.Object)" class="member-name-link">equals</a><wbr>(<a href="../Object.html" title="class in java.lang">Object</a>&nbsp;other)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Compares the specified object with this layout for equality.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#hashCode()" class="member-name-link">hashCode</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Returns the hash code value for this layout.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="../../util/Optional.html" title="class in java.util">Optional</a><wbr>&lt;<a href="../String.html" title="class in java.lang">String</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#name()" class="member-name-link">name</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Returns the name (if any) associated with this layout.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1"><code>static <a href="PaddingLayout.html" title="interface in java.lang.foreign">PaddingLayout</a><sup><a href="PaddingLayout.html#preview-java.lang.foreign.PaddingLayout">PREVIEW</a></sup></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1"><code><a href="#paddingLayout(long)" class="member-name-link">paddingLayout</a><wbr>(long&nbsp;byteSize)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1">
<div class="block">Creates a padding layout with the given byte size.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="MemoryLayout.html" title="interface in java.lang.foreign">MemoryLayout</a><sup><a href="#preview-java.lang.foreign.MemoryLayout">PREVIEW</a></sup></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#select(java.lang.foreign.MemoryLayout.PathElement...)" class="member-name-link">select</a><wbr>(<a href="MemoryLayout.PathElement.html" title="interface in java.lang.foreign">MemoryLayout.PathElement</a><sup><a href="MemoryLayout.PathElement.html#preview-java.lang.foreign.MemoryLayout.PathElement">PREVIEW</a></sup>...&nbsp;elements)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Returns the layout selected from the provided path, where the initial layout in the path is this layout.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1"><code>static <a href="SequenceLayout.html" title="interface in java.lang.foreign">SequenceLayout</a><sup><a href="SequenceLayout.html#preview-java.lang.foreign.SequenceLayout">PREVIEW</a></sup></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1"><code><a href="#sequenceLayout(long,java.lang.foreign.MemoryLayout)" class="member-name-link">sequenceLayout</a><wbr>(long&nbsp;elementCount,
 <a href="MemoryLayout.html" title="interface in java.lang.foreign">MemoryLayout</a><sup><a href="#preview-java.lang.foreign.MemoryLayout">PREVIEW</a></sup>&nbsp;elementLayout)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1">
<div class="block">Creates a sequence layout with the given element layout and element count.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1"><code>static <a href="SequenceLayout.html" title="interface in java.lang.foreign">SequenceLayout</a><sup><a href="SequenceLayout.html#preview-java.lang.foreign.SequenceLayout">PREVIEW</a></sup></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1"><code><a href="#sequenceLayout(java.lang.foreign.MemoryLayout)" class="member-name-link">sequenceLayout</a><wbr>(<a href="MemoryLayout.html" title="interface in java.lang.foreign">MemoryLayout</a><sup><a href="#preview-java.lang.foreign.MemoryLayout">PREVIEW</a></sup>&nbsp;elementLayout)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1">
<div class="block">Creates a sequence layout with the given element layout and the maximum element
 count such that it does not overflow a <code>long</code>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="../invoke/MethodHandle.html" title="class in java.lang.invoke">MethodHandle</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#sliceHandle(java.lang.foreign.MemoryLayout.PathElement...)" class="member-name-link">sliceHandle</a><wbr>(<a href="MemoryLayout.PathElement.html" title="interface in java.lang.foreign">MemoryLayout.PathElement</a><sup><a href="MemoryLayout.PathElement.html#preview-java.lang.foreign.MemoryLayout.PathElement">PREVIEW</a></sup>...&nbsp;elements)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Creates a method handle which, given a memory segment, returns a <a href="MemorySegment.html#asSlice(long,long)">slice</a><sup><a href="MemorySegment.html#preview-java.lang.foreign.MemorySegment">PREVIEW</a></sup>
 corresponding to the layout selected by the given layout path, where the initial layout in the path is this layout.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1"><code>static <a href="StructLayout.html" title="interface in java.lang.foreign">StructLayout</a><sup><a href="StructLayout.html#preview-java.lang.foreign.StructLayout">PREVIEW</a></sup></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1"><code><a href="#structLayout(java.lang.foreign.MemoryLayout...)" class="member-name-link">structLayout</a><wbr>(<a href="MemoryLayout.html" title="interface in java.lang.foreign">MemoryLayout</a><sup><a href="#preview-java.lang.foreign.MemoryLayout">PREVIEW</a></sup>...&nbsp;elements)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1">
<div class="block">Creates a struct layout with the given member layouts.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="../String.html" title="class in java.lang">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#toString()" class="member-name-link">toString</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Returns the string representation of this layout.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1"><code>static <a href="UnionLayout.html" title="interface in java.lang.foreign">UnionLayout</a><sup><a href="UnionLayout.html#preview-java.lang.foreign.UnionLayout">PREVIEW</a></sup></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1"><code><a href="#unionLayout(java.lang.foreign.MemoryLayout...)" class="member-name-link">unionLayout</a><wbr>(<a href="MemoryLayout.html" title="interface in java.lang.foreign">MemoryLayout</a><sup><a href="#preview-java.lang.foreign.MemoryLayout">PREVIEW</a></sup>...&nbsp;elements)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1">
<div class="block">Creates a union layout with the given member layouts.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="../invoke/VarHandle.html" title="class in java.lang.invoke">VarHandle</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#varHandle(java.lang.foreign.MemoryLayout.PathElement...)" class="member-name-link">varHandle</a><wbr>(<a href="MemoryLayout.PathElement.html" title="interface in java.lang.foreign">MemoryLayout.PathElement</a><sup><a href="MemoryLayout.PathElement.html#preview-java.lang.foreign.MemoryLayout.PathElement">PREVIEW</a></sup>...&nbsp;elements)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Creates a var handle that accesses a memory segment at the offset selected by the given layout path,
 where the initial layout in the path is this layout.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="MemoryLayout.html" title="interface in java.lang.foreign">MemoryLayout</a><sup><a href="#preview-java.lang.foreign.MemoryLayout">PREVIEW</a></sup></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#withByteAlignment(long)" class="member-name-link">withByteAlignment</a><wbr>(long&nbsp;byteAlignment)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Returns a memory layout with the same characteristics as this layout, but with the given
 alignment constraint (in bytes).</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="MemoryLayout.html" title="interface in java.lang.foreign">MemoryLayout</a><sup><a href="#preview-java.lang.foreign.MemoryLayout">PREVIEW</a></sup></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#withName(java.lang.String)" class="member-name-link">withName</a><wbr>(<a href="../String.html" title="class in java.lang">String</a>&nbsp;name)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Returns a memory layout with the same characteristics as this layout, but with the given name.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="MemoryLayout.html" title="interface in java.lang.foreign">MemoryLayout</a><sup><a href="#preview-java.lang.foreign.MemoryLayout">PREVIEW</a></sup></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#withoutName()" class="member-name-link">withoutName</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Returns a memory layout with the same characteristics as this layout, but with no name.</div>
</div>
</div>
</div>
</div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="byteSize()">
<h3>byteSize</h3>
<div class="member-signature"><span class="return-type">long</span>&nbsp;<span class="element-name">byteSize</span>()</div>
<div class="block">Returns the layout size, in bytes.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the layout size, in bytes</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="name()">
<h3>name</h3>
<div class="member-signature"><span class="return-type"><a href="../../util/Optional.html" title="class in java.util">Optional</a>&lt;<a href="../String.html" title="class in java.lang">String</a>&gt;</span>&nbsp;<span class="element-name">name</span>()</div>
<div class="block">Returns the name (if any) associated with this layout.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the name (if any) associated with this layout</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="#withName(java.lang.String)"><code>withName(String)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="withName(java.lang.String)">
<h3>withName</h3>
<div class="member-signature"><span class="return-type"><a href="MemoryLayout.html" title="interface in java.lang.foreign">MemoryLayout</a><sup><a href="#preview-java.lang.foreign.MemoryLayout">PREVIEW</a></sup></span>&nbsp;<span class="element-name">withName</span><wbr><span class="parameters">(<a href="../String.html" title="class in java.lang">String</a>&nbsp;name)</span></div>
<div class="block">Returns a memory layout with the same characteristics as this layout, but with the given name.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>name</code> - the layout name.</dd>
<dt>Returns:</dt>
<dd>a memory layout with the same characteristics as this layout, but with the given name</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="#name()"><code>name()</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="withoutName()">
<h3>withoutName</h3>
<div class="member-signature"><span class="return-type"><a href="MemoryLayout.html" title="interface in java.lang.foreign">MemoryLayout</a><sup><a href="#preview-java.lang.foreign.MemoryLayout">PREVIEW</a></sup></span>&nbsp;<span class="element-name">withoutName</span>()</div>
<div class="block">Returns a memory layout with the same characteristics as this layout, but with no name.</div>
<dl class="notes">
<dt>API Note:</dt>
<dd>This can be useful to compare two layouts that have different names, but are otherwise equal.</dd>
<dt>Returns:</dt>
<dd>a memory layout with the same characteristics as this layout, but with no name</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="#name()"><code>name()</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="byteAlignment()">
<h3>byteAlignment</h3>
<div class="member-signature"><span class="return-type">long</span>&nbsp;<span class="element-name">byteAlignment</span>()</div>
<div class="block">Returns the alignment constraint associated with this layout, expressed in bytes. Layout alignment defines a power
 of two <code>A</code> which is the byte-wise alignment of the layout, where <code>A</code> is the number of bytes that must be aligned
 for any pointer that correctly points to this layout. Thus:

 <ul>
 <li><code>A=1</code> means unaligned (in the usual sense), which is common in packets.</li>
 <li><code>A=8</code> means word aligned (on LP64), <code>A=4</code> int aligned, <code>A=2</code> short aligned, etc.</li>
 <li><code>A=64</code> is the most strict alignment required by the x86/SV ABI (for AVX-512 data).</li>
 </ul>

 If no explicit alignment constraint was set on this layout (see <a href="#withByteAlignment(long)"><code>withByteAlignment(long)</code></a>),
 then this method returns the <a href="#layout-align">natural alignment</a> constraint (in bytes) associated with this layout.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the alignment constraint associated with this layout, expressed in bytes</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="withByteAlignment(long)">
<h3>withByteAlignment</h3>
<div class="member-signature"><span class="return-type"><a href="MemoryLayout.html" title="interface in java.lang.foreign">MemoryLayout</a><sup><a href="#preview-java.lang.foreign.MemoryLayout">PREVIEW</a></sup></span>&nbsp;<span class="element-name">withByteAlignment</span><wbr><span class="parameters">(long&nbsp;byteAlignment)</span></div>
<div class="block">Returns a memory layout with the same characteristics as this layout, but with the given
 alignment constraint (in bytes).</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>byteAlignment</code> - the layout alignment constraint, expressed in bytes.</dd>
<dt>Returns:</dt>
<dd>a memory layout with the same characteristics as this layout, but with the given
 alignment constraint (in bytes)</dd>
<dt>Throws:</dt>
<dd><code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if <code>byteAlignment</code> is not a power of two.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="byteOffset(java.lang.foreign.MemoryLayout.PathElement...)">
<h3>byteOffset</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">byteOffset</span><wbr><span class="parameters">(<a href="MemoryLayout.PathElement.html" title="interface in java.lang.foreign">MemoryLayout.PathElement</a><sup><a href="MemoryLayout.PathElement.html#preview-java.lang.foreign.MemoryLayout.PathElement">PREVIEW</a></sup>...&nbsp;elements)</span></div>
<div class="block">Computes the offset, in bytes, of the layout selected by the given layout path, where the initial layout in the
 path is this layout.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>elements</code> - the layout path elements.</dd>
<dt>Returns:</dt>
<dd>The offset, in bytes, of the layout selected by the layout path in <code>elements</code>.</dd>
<dt>Throws:</dt>
<dd><code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the layout path is not <a href="#well-formedness">well-formed</a> for this layout.</dd>
<dd><code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the layout path contains one or more <a href=#open-path-elements>open path elements</a>.</dd>
<dd><code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the layout path contains one or more <a href=#deref-path-elements>dereference path elements</a>.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="byteOffsetHandle(java.lang.foreign.MemoryLayout.PathElement...)">
<h3>byteOffsetHandle</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="../invoke/MethodHandle.html" title="class in java.lang.invoke">MethodHandle</a></span>&nbsp;<span class="element-name">byteOffsetHandle</span><wbr><span class="parameters">(<a href="MemoryLayout.PathElement.html" title="interface in java.lang.foreign">MemoryLayout.PathElement</a><sup><a href="MemoryLayout.PathElement.html#preview-java.lang.foreign.MemoryLayout.PathElement">PREVIEW</a></sup>...&nbsp;elements)</span></div>
<div class="block">Creates a method handle that computes the offset, in bytes, of the layout selected
 by the given layout path, where the initial layout in the path is this layout.
 <p>
 The returned method handle has the following characteristics:
 <ul>
     <li>its return type is <code>long</code>;</li>
     <li>it has as zero or more parameters of type <code>long</code>, one for each <a href=#open-path-elements>open path element</a>
     in the provided layout path. The order of these parameters corresponds to the order in which the open path
     elements occur in the provided layout path.
 </ul>
 <p>
 The final offset returned by the method handle is computed as follows:

 <blockquote><pre><code>
 offset = c_1 + c_2 + ... + c_m + (x_1 * s_1) + (x_2 * s_2) + ... + (x_n * s_n)
 </code></pre></blockquote>

 where <code>x_1</code>, <code>x_2</code>, ... <code>x_n</code> are <em>dynamic</em> values provided as <code>long</code>
 arguments, whereas <code>c_1</code>, <code>c_2</code>, ... <code>c_m</code> are <em>static</em> offset constants
 and <code>s_0</code>, <code>s_1</code>, ... <code>s_n</code> are <em>static</em> stride constants which are derived from
 the layout path.</div>
<dl class="notes">
<dt>API Note:</dt>
<dd>The returned method handle can be used to compute a layout offset, similarly to <a href="#byteOffset(java.lang.foreign.MemoryLayout.PathElement...)"><code>byteOffset(PathElement...)</code></a>,
 but more flexibly, as some indices can be specified when invoking the method handle.</dd>
<dt>Parameters:</dt>
<dd><code>elements</code> - the layout path elements.</dd>
<dt>Returns:</dt>
<dd>a method handle that computes the offset, in bytes, of the layout selected by the given layout path.</dd>
<dt>Throws:</dt>
<dd><code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the layout path is not <a href="#well-formedness">well-formed</a> for this layout.</dd>
<dd><code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the layout path contains one or more <a href=#deref-path-elements>dereference path elements</a>.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="varHandle(java.lang.foreign.MemoryLayout.PathElement...)">
<h3>varHandle</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="../invoke/VarHandle.html" title="class in java.lang.invoke">VarHandle</a></span>&nbsp;<span class="element-name">varHandle</span><wbr><span class="parameters">(<a href="MemoryLayout.PathElement.html" title="interface in java.lang.foreign">MemoryLayout.PathElement</a><sup><a href="MemoryLayout.PathElement.html#preview-java.lang.foreign.MemoryLayout.PathElement">PREVIEW</a></sup>...&nbsp;elements)</span></div>
<div class="block">Creates a var handle that accesses a memory segment at the offset selected by the given layout path,
 where the initial layout in the path is this layout.
 <p>
 The returned var handle has the following characteristics:
 <ul>
     <li>its type is derived from the <a href="ValueLayout.html#carrier()">carrier</a><sup><a href="ValueLayout.html#preview-java.lang.foreign.ValueLayout">PREVIEW</a></sup> of the
     selected value layout;</li>
     <li>it has as zero or more access coordinates of type <code>long</code>, one for each
     <a href=#open-path-elements>open path element</a> in the provided layout path. The order of these access
     coordinates corresponds to the order in which the open path elements occur in the provided
     layout path.
 </ul>
 <p>
 The final address accessed by the returned var handle can be computed as follows:

 <blockquote><pre><code>
 address = base(segment) + offset
 </code></pre></blockquote>

 Where <code>base(segment)</code> denotes a function that returns the physical base address of the accessed
 memory segment. For native segments, this function just returns the native segment's
 <a href="MemorySegment.html#address()">address</a><sup><a href="MemorySegment.html#preview-java.lang.foreign.MemorySegment">PREVIEW</a></sup>. For heap segments, this function is more complex, as the address
 of heap segments is virtualized. The <code>offset</code> value can be expressed in the following form:

 <blockquote><pre><code>
 offset = c_1 + c_2 + ... + c_m + (x_1 * s_1) + (x_2 * s_2) + ... + (x_n * s_n)
 </code></pre></blockquote>

 where <code>x_1</code>, <code>x_2</code>, ... <code>x_n</code> are <em>dynamic</em> values provided as <code>long</code>
 arguments, whereas <code>c_1</code>, <code>c_2</code>, ... <code>c_m</code> are <em>static</em> offset constants
 and <code>s_1</code>, <code>s_2</code>, ... <code>s_n</code> are <em>static</em> stride constants which are derived from
 the layout path.
 <p>
 Additionally, the provided dynamic values must conform to bounds which are derived from the layout path, that is,
 <code>0 &lt;= x_i &lt; b_i</code>, where <code>1 &lt;= i &lt;= n</code>, or <a href="../IndexOutOfBoundsException.html" title="class in java.lang"><code>IndexOutOfBoundsException</code></a> is thrown.
 <p>
 The base address must be <a href="MemorySegment.html#segment-alignment">aligned</a> according to the <a href="#byteAlignment()">alignment constraint</a> of the root layout (this layout). Note that this can be more strict
 (but not less) than the alignment constraint of the selected value layout.
 <p>
 Multiple paths can be chained, with <a href=#deref-path-elements>dereference path elements</a>.
 A dereference path element constructs a fresh native memory segment whose base address is the address value
 read obtained by accessing a memory segment at the offset determined by the layout path elements immediately preceding
 the dereference path element. In other words, if a layout path contains one or more dereference path elements,
 the final address accessed by the returned var handle can be computed as follows:

 <blockquote><pre><code>
 address_1 = base(segment) + offset_1
 address_2 = base(segment_1) + offset_2
 ...
 address_k = base(segment_k-1) + offset_k
 </code></pre></blockquote>

 where <code>k</code> is the number of dereference path elements in a layout path, <code>segment</code> is the input segment,
 <code>segment_1</code>, ...  <code>segment_k-1</code> are the segments obtained by dereferencing the address associated with
 a given dereference path element (e.g. <code>segment_1</code> is a native segment whose base address is <code>address_1</code>),
 and <code>offset_1</code>, <code>offset_2</code>, ... <code>offset_k</code> are the offsets computed by evaluating
 the path elements after a given dereference operation (these offsets are obtained using the computation described
 above). In these more complex access operations, all memory accesses immediately preceding a dereference operation
 (e.g. those at addresses <code>address_1</code>, <code>address_2</code>, ...,  <code>address_k-1</code> are performed using the
 <a href="../invoke/VarHandle.AccessMode.html#GET"><code>VarHandle.AccessMode.GET</code></a> access mode.</div>
<dl class="notes">
<dt>API Note:</dt>
<dd>The resulting var handle features certain <em>access mode restrictions</em>, which are common to all
 <a href="../invoke/MethodHandles.html#memorySegmentViewVarHandle(java.lang.foreign.ValueLayout)">memory segment view handles</a><sup><a href="../invoke/MethodHandles.html#preview-memorySegmentViewVarHandle(java.lang.foreign.ValueLayout)">PREVIEW</a></sup>.</dd>
<dt>Parameters:</dt>
<dd><code>elements</code> - the layout path elements.</dd>
<dt>Returns:</dt>
<dd>a var handle that accesses a memory segment at the offset selected by the given layout path.</dd>
<dt>Throws:</dt>
<dd><code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the layout path is not <a href="#well-formedness">well-formed</a> for this layout.</dd>
<dd><code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the layout selected by the provided path is not a <a href="ValueLayout.html" title="interface in java.lang.foreign">value layout</a><sup><a href="ValueLayout.html#preview-java.lang.foreign.ValueLayout">PREVIEW</a></sup>.</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list-long">
<li><a href="../invoke/MethodHandles.html#memorySegmentViewVarHandle(java.lang.foreign.ValueLayout)"><code>MethodHandles.memorySegmentViewVarHandle(ValueLayout)</code></a><sup><a href="../invoke/MethodHandles.html#preview-memorySegmentViewVarHandle(java.lang.foreign.ValueLayout)">PREVIEW</a></sup></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="sliceHandle(java.lang.foreign.MemoryLayout.PathElement...)">
<h3>sliceHandle</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="../invoke/MethodHandle.html" title="class in java.lang.invoke">MethodHandle</a></span>&nbsp;<span class="element-name">sliceHandle</span><wbr><span class="parameters">(<a href="MemoryLayout.PathElement.html" title="interface in java.lang.foreign">MemoryLayout.PathElement</a><sup><a href="MemoryLayout.PathElement.html#preview-java.lang.foreign.MemoryLayout.PathElement">PREVIEW</a></sup>...&nbsp;elements)</span></div>
<div class="block">Creates a method handle which, given a memory segment, returns a <a href="MemorySegment.html#asSlice(long,long)">slice</a><sup><a href="MemorySegment.html#preview-java.lang.foreign.MemorySegment">PREVIEW</a></sup>
 corresponding to the layout selected by the given layout path, where the initial layout in the path is this layout.
 <p>
 The returned method handle has the following characteristics:
 <ul>
     <li>its return type is <code>MemorySegment</code>;</li>
     <li>it has a leading parameter of type <code>MemorySegment</code>, corresponding to the memory segment
     to be sliced;</li>
     <li>it has as zero or more parameters of type <code>long</code>, one for each <a href=#open-path-elements>open path element</a>
     in the provided layout path. The order of these parameters corresponds to the order in which the open path
     elements occur in the provided layout path.
 </ul>
 <p>
 The offset of the returned segment is computed as follows:
 
<div class="snippet-container"><button class="copy snippet-copy" aria-label="Copy snippet" onclick="copySnippet(this)"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy snippet"></button>
<pre class="snippet"><code class="language-java">long offset = byteOffset(elements);
long size = select(elements).byteSize();
MemorySegment slice = segment.asSlice(offset, size);
</code></pre>
</div>

 <p>
 The segment to be sliced must be <a href="MemorySegment.html#segment-alignment">aligned</a> according to the
 <a href="#byteAlignment()">alignment constraint</a> of the root layout (this layout). Note that this can be more
 strict (but not less) than the alignment constraint of the selected value layout.</div>
<dl class="notes">
<dt>API Note:</dt>
<dd>The returned method handle can be used to obtain a memory segment slice, similarly to <a href="MemorySegment.html#asSlice(long,long)"><code>MemorySegment.asSlice(long, long)</code></a><sup><a href="MemorySegment.html#preview-java.lang.foreign.MemorySegment">PREVIEW</a></sup>,
 but more flexibly, as some indices can be specified when invoking the method handle.</dd>
<dt>Parameters:</dt>
<dd><code>elements</code> - the layout path elements.</dd>
<dt>Returns:</dt>
<dd>a method handle which is used to slice a memory segment at the offset selected by the given layout path.</dd>
<dt>Throws:</dt>
<dd><code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the layout path is not <a href="#well-formedness">well-formed</a> for this layout.</dd>
<dd><code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the layout path contains one or more <a href=#deref-path-elements>dereference path elements</a>.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="select(java.lang.foreign.MemoryLayout.PathElement...)">
<h3>select</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="MemoryLayout.html" title="interface in java.lang.foreign">MemoryLayout</a><sup><a href="#preview-java.lang.foreign.MemoryLayout">PREVIEW</a></sup></span>&nbsp;<span class="element-name">select</span><wbr><span class="parameters">(<a href="MemoryLayout.PathElement.html" title="interface in java.lang.foreign">MemoryLayout.PathElement</a><sup><a href="MemoryLayout.PathElement.html#preview-java.lang.foreign.MemoryLayout.PathElement">PREVIEW</a></sup>...&nbsp;elements)</span></div>
<div class="block">Returns the layout selected from the provided path, where the initial layout in the path is this layout.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>elements</code> - the layout path elements.</dd>
<dt>Returns:</dt>
<dd>the layout selected by the layout path in <code>elements</code>.</dd>
<dt>Throws:</dt>
<dd><code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the layout path is not <a href="#well-formedness">well-formed</a> for this layout.</dd>
<dd><code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the layout path contains one or more <a href=#deref-path-elements>dereference path elements</a>.</dd>
<dd><code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the layout path contains one or more path elements that select one or more
 sequence element indices, such as <a href="MemoryLayout.PathElement.html#sequenceElement(long)"><code>MemoryLayout.PathElement.sequenceElement(long)</code></a><sup><a href="MemoryLayout.PathElement.html#preview-java.lang.foreign.MemoryLayout.PathElement">PREVIEW</a></sup> and <a href="MemoryLayout.PathElement.html#sequenceElement(long,long)"><code>MemoryLayout.PathElement.sequenceElement(long, long)</code></a><sup><a href="MemoryLayout.PathElement.html#preview-java.lang.foreign.MemoryLayout.PathElement">PREVIEW</a></sup>).</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="equals(java.lang.Object)">
<h3>equals</h3>
<div class="member-signature"><span class="return-type">boolean</span>&nbsp;<span class="element-name">equals</span><wbr><span class="parameters">(<a href="../Object.html" title="class in java.lang">Object</a>&nbsp;other)</span></div>
<div class="block">Compares the specified object with this layout for equality. Returns <code>true</code> if and only if the specified
 object is also a layout, and it is equal to this layout. Two layouts are considered equal if they are of
 the same kind, have the same size, name and alignment constraint. Furthermore, depending on the layout kind, additional
 conditions must be satisfied:
 <ul>
     <li>two value layouts are considered equal if they have the same <a href="ValueLayout.html#order()">order</a><sup><a href="ValueLayout.html#preview-java.lang.foreign.ValueLayout">PREVIEW</a></sup>,
     and <a href="ValueLayout.html#carrier()">carrier</a><sup><a href="ValueLayout.html#preview-java.lang.foreign.ValueLayout">PREVIEW</a></sup>. Additionally, two address layouts are considered equal if they
     also have the same <a href="AddressLayout.html#targetLayout()">target layout</a><sup><a href="AddressLayout.html#preview-java.lang.foreign.AddressLayout">PREVIEW</a></sup>;</li>
     <li>two sequence layouts are considered equal if they have the same element count (see <a href="SequenceLayout.html#elementCount()"><code>SequenceLayout.elementCount()</code></a><sup><a href="SequenceLayout.html#preview-java.lang.foreign.SequenceLayout">PREVIEW</a></sup>), and
     if their element layouts (see <a href="SequenceLayout.html#elementLayout()"><code>SequenceLayout.elementLayout()</code></a><sup><a href="SequenceLayout.html#preview-java.lang.foreign.SequenceLayout">PREVIEW</a></sup>) are also equal;</li>
     <li>two group layouts are considered equal if they are of the same type (see <a href="StructLayout.html" title="interface in java.lang.foreign"><code>StructLayout</code></a><sup><a href="StructLayout.html#preview-java.lang.foreign.StructLayout">PREVIEW</a></sup>,
     <a href="UnionLayout.html" title="interface in java.lang.foreign"><code>UnionLayout</code></a><sup><a href="UnionLayout.html#preview-java.lang.foreign.UnionLayout">PREVIEW</a></sup>) and if their member layouts (see <a href="GroupLayout.html#memberLayouts()"><code>GroupLayout.memberLayouts()</code></a><sup><a href="GroupLayout.html#preview-java.lang.foreign.GroupLayout">PREVIEW</a></sup>) are also equal.</li>
 </ul></div>
<dl class="notes">
<dt>Overrides:</dt>
<dd><code><a href="../Object.html#equals(java.lang.Object)">equals</a></code>&nbsp;in class&nbsp;<code><a href="../Object.html" title="class in java.lang">Object</a></code></dd>
<dt>Parameters:</dt>
<dd><code>other</code> - the object to be compared for equality with this layout.</dd>
<dt>Returns:</dt>
<dd><code>true</code> if the specified object is equal to this layout.</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="../Object.html#hashCode()"><code>Object.hashCode()</code></a></li>
<li><a href="../../util/HashMap.html" title="class in java.util"><code>HashMap</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="hashCode()">
<h3>hashCode</h3>
<div class="member-signature"><span class="return-type">int</span>&nbsp;<span class="element-name">hashCode</span>()</div>
<div class="block">Returns the hash code value for this layout.</div>
<dl class="notes">
<dt>Overrides:</dt>
<dd><code><a href="../Object.html#hashCode()">hashCode</a></code>&nbsp;in class&nbsp;<code><a href="../Object.html" title="class in java.lang">Object</a></code></dd>
<dt>Returns:</dt>
<dd>the hash code value for this layout</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list-long">
<li><a href="../Object.html#equals(java.lang.Object)"><code>Object.equals(java.lang.Object)</code></a></li>
<li><a href="../System.html#identityHashCode(java.lang.Object)"><code>System.identityHashCode(java.lang.Object)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="toString()">
<h3>toString</h3>
<div class="member-signature"><span class="return-type"><a href="../String.html" title="class in java.lang">String</a></span>&nbsp;<span class="element-name">toString</span>()</div>
<div class="block">Returns the string representation of this layout.</div>
<dl class="notes">
<dt>Overrides:</dt>
<dd><code><a href="../Object.html#toString()">toString</a></code>&nbsp;in class&nbsp;<code><a href="../Object.html" title="class in java.lang">Object</a></code></dd>
<dt>Returns:</dt>
<dd>the string representation of this layout</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="paddingLayout(long)">
<h3>paddingLayout</h3>
<div class="member-signature"><span class="modifiers">static</span>&nbsp;<span class="return-type"><a href="PaddingLayout.html" title="interface in java.lang.foreign">PaddingLayout</a><sup><a href="PaddingLayout.html#preview-java.lang.foreign.PaddingLayout">PREVIEW</a></sup></span>&nbsp;<span class="element-name">paddingLayout</span><wbr><span class="parameters">(long&nbsp;byteSize)</span></div>
<div class="block">Creates a padding layout with the given byte size. The alignment constraint of the returned layout
 is 1. As such, regardless of its size, in the absence of an <a href="#withByteAlignment(long)">explicit</a>
 alignment constraint, a padding layout does not affect the natural alignment of the group or sequence layout
 it is nested into.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>byteSize</code> - the padding size (expressed in bytes).</dd>
<dt>Returns:</dt>
<dd>the new selector layout.</dd>
<dt>Throws:</dt>
<dd><code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if <code>byteSize &lt;= 0</code>.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="sequenceLayout(long,java.lang.foreign.MemoryLayout)">
<h3>sequenceLayout</h3>
<div class="member-signature"><span class="modifiers">static</span>&nbsp;<span class="return-type"><a href="SequenceLayout.html" title="interface in java.lang.foreign">SequenceLayout</a><sup><a href="SequenceLayout.html#preview-java.lang.foreign.SequenceLayout">PREVIEW</a></sup></span>&nbsp;<span class="element-name">sequenceLayout</span><wbr><span class="parameters">(long&nbsp;elementCount,
 <a href="MemoryLayout.html" title="interface in java.lang.foreign">MemoryLayout</a><sup><a href="#preview-java.lang.foreign.MemoryLayout">PREVIEW</a></sup>&nbsp;elementLayout)</span></div>
<div class="block">Creates a sequence layout with the given element layout and element count.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>elementCount</code> - the sequence element count.</dd>
<dd><code>elementLayout</code> - the sequence element layout.</dd>
<dt>Returns:</dt>
<dd>the new sequence layout with the given element layout and size.</dd>
<dt>Throws:</dt>
<dd><code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if <code>elementCount</code> is negative.</dd>
<dd><code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if <code>elementLayout.byteSize() * elementCount</code> overflows.</dd>
<dd><code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if <code>elementLayout.byteSize() % elementLayout.byteAlignment() != 0</code>.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="sequenceLayout(java.lang.foreign.MemoryLayout)">
<h3>sequenceLayout</h3>
<div class="member-signature"><span class="modifiers">static</span>&nbsp;<span class="return-type"><a href="SequenceLayout.html" title="interface in java.lang.foreign">SequenceLayout</a><sup><a href="SequenceLayout.html#preview-java.lang.foreign.SequenceLayout">PREVIEW</a></sup></span>&nbsp;<span class="element-name">sequenceLayout</span><wbr><span class="parameters">(<a href="MemoryLayout.html" title="interface in java.lang.foreign">MemoryLayout</a><sup><a href="#preview-java.lang.foreign.MemoryLayout">PREVIEW</a></sup>&nbsp;elementLayout)</span></div>
<div class="block">Creates a sequence layout with the given element layout and the maximum element
 count such that it does not overflow a <code>long</code>.

 This is equivalent to the following code:
 
<div class="snippet-container"><button class="copy snippet-copy" aria-label="Copy snippet" onclick="copySnippet(this)"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy snippet"></button>
<pre class="snippet"><code class="language-java">sequenceLayout(Long.MAX_VALUE / elementLayout.byteSize(), elementLayout);
</code></pre>
</div>
</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>elementLayout</code> - the sequence element layout.</dd>
<dt>Returns:</dt>
<dd>a new sequence layout with the given element layout and maximum element count.</dd>
<dt>Throws:</dt>
<dd><code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if <code>elementLayout.byteSize() % elementLayout.byteAlignment() != 0</code>.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="structLayout(java.lang.foreign.MemoryLayout...)">
<h3>structLayout</h3>
<div class="member-signature"><span class="modifiers">static</span>&nbsp;<span class="return-type"><a href="StructLayout.html" title="interface in java.lang.foreign">StructLayout</a><sup><a href="StructLayout.html#preview-java.lang.foreign.StructLayout">PREVIEW</a></sup></span>&nbsp;<span class="element-name">structLayout</span><wbr><span class="parameters">(<a href="MemoryLayout.html" title="interface in java.lang.foreign">MemoryLayout</a><sup><a href="#preview-java.lang.foreign.MemoryLayout">PREVIEW</a></sup>...&nbsp;elements)</span></div>
<div class="block">Creates a struct layout with the given member layouts.</div>
<dl class="notes">
<dt>API Note:</dt>
<dd>This factory does not automatically align element layouts, by inserting additional <a href="PaddingLayout.html" title="interface in java.lang.foreign">padding layout</a><sup><a href="PaddingLayout.html#preview-java.lang.foreign.PaddingLayout">PREVIEW</a></sup> elements. As such, the following struct layout creation will fail with an exception:

 
<div class="snippet-container"><button class="copy snippet-copy" aria-label="Copy snippet" onclick="copySnippet(this)"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy snippet"></button>
<pre class="snippet"><code class="language-java">structLayout(JAVA_SHORT, JAVA_INT);
</code></pre>
</div>


 To avoid the exception, clients can either insert additional padding layout elements:

 
<div class="snippet-container"><button class="copy snippet-copy" aria-label="Copy snippet" onclick="copySnippet(this)"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy snippet"></button>
<pre class="snippet"><code class="language-java">structLayout(JAVA_SHORT, MemoryLayout.paddingLayout(2), JAVA_INT);
</code></pre>
</div>


 Or, alternatively, they can use a member layout which features a smaller alignment constraint. This will result
 in a <em>packed</em> struct layout:

 
<div class="snippet-container"><button class="copy snippet-copy" aria-label="Copy snippet" onclick="copySnippet(this)"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy snippet"></button>
<pre class="snippet"><code class="language-java">structLayout(JAVA_SHORT, JAVA_INT.withByteAlignment(2));
</code></pre>
</div>
</dd>
<dt>Parameters:</dt>
<dd><code>elements</code> - The member layouts of the struct layout.</dd>
<dt>Returns:</dt>
<dd>a struct layout with the given member layouts.</dd>
<dt>Throws:</dt>
<dd><code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the sum of the <a href="#byteSize()">byte sizes</a> of the member layouts
 overflows.</dd>
<dd><code><a href="../IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if a member layout in <code>elements</code> occurs at an offset (relative to the start
 of the struct layout) which is not compatible with its alignment constraint.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="unionLayout(java.lang.foreign.MemoryLayout...)">
<h3>unionLayout</h3>
<div class="member-signature"><span class="modifiers">static</span>&nbsp;<span class="return-type"><a href="UnionLayout.html" title="interface in java.lang.foreign">UnionLayout</a><sup><a href="UnionLayout.html#preview-java.lang.foreign.UnionLayout">PREVIEW</a></sup></span>&nbsp;<span class="element-name">unionLayout</span><wbr><span class="parameters">(<a href="MemoryLayout.html" title="interface in java.lang.foreign">MemoryLayout</a><sup><a href="#preview-java.lang.foreign.MemoryLayout">PREVIEW</a></sup>...&nbsp;elements)</span></div>
<div class="block">Creates a union layout with the given member layouts.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>elements</code> - The member layouts of the union layout.</dd>
<dt>Returns:</dt>
<dd>a union layout with the given member layouts.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small><a href="https://bugreport.java.com/bugreport/">Report a bug or suggest an enhancement</a><br> For further API reference and developer documentation see the <a href="https://docs.oracle.com/pls/topic/lookup?ctx=javase21&amp;id=homepage" target="_blank">Java SE Documentation</a>, which contains more detailed, developer-targeted descriptions with conceptual overviews, definitions of terms, workarounds, and working code examples. <a href="https://docs.oracle.com/en/java/javase/index.html">Other versions.</a><br> Java is a trademark or registered trademark of Oracle and/or its affiliates in the US and other countries.<br> <a href="../../../../../legal/copyright.html">Copyright</a> &copy; 1993, 2024, Oracle and/or its affiliates, 500 Oracle Parkway, Redwood Shores, CA 94065 USA.<br>All rights reserved. Use is subject to <a href="https://www.oracle.com/java/javase/terms/license/java21speclicense.html">license terms</a> and the <a href="https://www.oracle.com/technetwork/java/redist-137594.html">documentation redistribution policy</a>. <!-- Version 21.0.2+13-LTS-58 --></small></p>
</footer>
</div>
</div>
</body>
</html>
